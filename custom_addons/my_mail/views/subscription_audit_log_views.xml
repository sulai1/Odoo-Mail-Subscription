<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_my_mail_subscription_audit_log_list" model="ir.ui.view">
        <field name="name">my.mail.subscription.audit.log.list</field>
        <field name="model">my.mail.subscription.audit.log</field>
        <field name="arch" type="xml">
            <list string="Subscription Audit Logs" create="0" edit="0" delete="0">
                <field name="create_date"/>
                <field name="action"/>
                <field name="template_id"/>
                <field name="user_id"/>
                <field name="actor_id"/>
                <field name="source"/>
                <field name="note"/>
            </list>
        </field>
    </record>

    <record id="view_my_mail_subscription_audit_log_search" model="ir.ui.view">
        <field name="name">my.mail.subscription.audit.log.search</field>
        <field name="model">my.mail.subscription.audit.log</field>
        <field name="arch" type="xml">
            <search string="Subscription Audit Logs">
                <field name="template_id"/>
                <field name="user_id"/>
                <field name="actor_id"/>
                <field name="action"/>
                <field name="source"/>
                <filter name="filter_opt_out" string="Opt-Out" domain="[('action', '=', 'opt_out')]"/>
                <filter name="filter_opt_in" string="Opt-In" domain="[('action', '=', 'opt_in')]"/>
                <separator/>
                <filter name="group_by_template" string="Group by Template" context="{'group_by': 'template_id'}"/>
                <filter name="group_by_user" string="Group by User" context="{'group_by': 'user_id'}"/>
                <filter name="group_by_actor" string="Group by Changed By" context="{'group_by': 'actor_id'}"/>
                <filter name="group_by_source" string="Group by Source" context="{'group_by': 'source'}"/>
            </search>
        </field>
    </record>

    <record id="action_my_mail_subscription_audit_logs" model="ir.actions.act_window">
        <field name="name">Subscription Audit Logs</field>
        <field name="res_model">my.mail.subscription.audit.log</field>
        <field name="view_mode">list</field>
        <field name="search_view_id" ref="view_my_mail_subscription_audit_log_search"/>
    </record>

    <menuitem id="menu_my_mail_subscription_audit_logs"
              name="Subscription Audit Logs"
              parent="menu_my_mail_root"
              action="action_my_mail_subscription_audit_logs"
              sequence="30"
              groups="base.group_system"/>
</odoo>
